<?xml version="1.0" encoding="UTF-8"?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>MIX | Microfinance in Nigeria</title>
  <link rel="shortcut icon" href="images/mixmarket_favicon.ico" type="image/x-icon" />
  
   <script src='scripts/jquery-1.6.1.min.js' type='text/javascript'></script>
   <script src='scripts/modestmaps.min.js' type='text/javascript'></script>
   <script src='scripts/wax.mm.min.js' type='text/javascript'></script>
   <link href='css/controls.css' rel='stylesheet' type='text/css'/>
   <link rel='stylesheet' href='css/reset.css' type='text/css'/>
   <link rel='stylesheet' href='css/style.css' type='text/css'/>
</head>

<body>
  <div class="top">
  </div>
  <div class='header'>
    <div style="float:left;"><a href='http://www.themix.org' class='logoL'>Microfinance Information eXchange</a></div>
  </div>
  
  <div class='about'>
      <h2>Microfinance in Nigeria</h2>
      <p>Visitors can view distribution of Microfinance Institutions (MFIs) throughout Nigeria at the state level while switching between several overlays of socio-economic data for further context.</p>
	   <p class='more'>
	   		<a href="#">&raquo; Put your MFI on the map here.</a>
	   </p>
      <div class="layerswitch">
        <div class="status-switch">
          <label for="status-select">Select a License Status:</label>
          <select id="status-select">
            <option id="mix-nigeria-mfi-licensed">Licensed</option>
            <option id="mix-nigeria-mfi-revoked">Revoked</option>
          </select>
        </div>
        <ul class="layers">
        <li><a id="MIX_Nigeria_Population2006" href="#">Population</a></li>
        <li><a id="MIX_Nigeria_InternetAccess" href="#">Internet Access</a></li>
        <li><a id="MIX_Nigeria_MobileAccess" href="#">Mobile Access</a></li>
        <li><a id="MIX_Nigeria_LiteracyRates" href="#">Literacy Rates</a></li>
        <li><a id="MIX_Nigeria_Unemployment" href="#">Unemployment</a></li>
        </ul>
     </div>
      <div class="partners">
        <div class="partL">
          <span class="projectof">A project of MIX&nbsp;&nbsp;&nbsp;</span><br />      
	       in partnership with:
	     </div>
	     <div class="partimg">
	       <a href="http://www.mastercard.com" target="_blank"><img src="images/logo_mc_bw2.png" alt="mastercard" /></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a target="_blank" href="http://www.developmentseed.org"><img src="images/logo_ds_bw2.png" alt="development seed" /></a>
	     </div>
      </div>
      <div class="tmlink">
        Powered by open source <a target='_blank' href='http://tilemill.com'>TileMill</a></div>
  </div>
  
  <div id='map'>
  </div>
  
  <script type="text/javascript">
    //global vars
    var m,
      legend,
      mm = com.modestmaps,
      activeStatus = 'mix-nigeria-mfi-licensed';
      activeLayer = 'MIX_Nigeria_Population2006';
    
    $(function() {
      // Default active class to population
      $('a#MIX_Nigeria_Population2006').addClass('active'); 
      
      // Build map
      m = new mm.Map('map',
          new wax.mm.provider({
          baseUrl: ['http://a.tiles.mapbox.com/mix/',
                    'http://b.tiles.mapbox.com/mix/',
                    'http://c.tiles.mapbox.com/mix/',
                    'http://d.tiles.mapbox.com/mix/'],
          layerName: [
              'mapbox.world-blank-bright',
              'world-urban-areas',
              'MIX_Nigeria_Population2006',
              'Nigeria-LGA-borders',
              'mapbox.world-borders-dark',
              'mix-nigeria-sharialine',
              'mix-nigeria-mfi-licensed'].join(','),
          zoomRange: [4, 10]}),
          null,
          [
            new mm.DragHandler,
            new mm.DoubleClickHandler,
            new mm.TouchHandler,
            new mm.MouseWheelHandler
         ]);
      wax.mm.interaction(m);
      wax.mm.zoomer(m);
      wax.mm.zoombox(m);
      legend = wax.mm.legend(m);
      m.setCenterZoom(new mm.Location(9.5,12), 6);
    });
     
    $('.layers li a').click(function() {
      // Layer switcher
      activeLayer = this.id;
      m.setProvider(new wax.mm.provider({
          baseUrl: [
              'http://a.tiles.mapbox.com/mix/',
              'http://b.tiles.mapbox.com/mix/',
              'http://c.tiles.mapbox.com/mix/',
              'http://d.tiles.mapbox.com/mix/'],
          layerName: [
              'mapbox.world-blank-bright',
              'world-urban-areas',
              activeLayer,
              'Nigeria-LGA-borders',
              'mapbox.world-borders-dark',
              'mix-nigeria-sharialine',
              activeStatus].join(','),
          zoomRange: [4, 10]
      }));

      // Re-render the legend with the new tileset.
      legend.legend.render([
          m.provider.getTileUrl({
              zoom: 0,
              column: 0,
              row: 0
          })
      ]);

      $('.layers li a').removeClass('active');
      $(this).addClass('active');
    });

    $('#status-select').change(function() {
      // Layer switcher
      activeStatus = $('#status-select option:selected')[0].id;
      m.setProvider(new wax.mm.provider({
          baseUrl: [
              'http://a.tiles.mapbox.com/mix/',
              'http://b.tiles.mapbox.com/mix/',
              'http://c.tiles.mapbox.com/mix/',
              'http://d.tiles.mapbox.com/mix/'],
          layerName: [
              'mapbox.world-blank-bright',
              'world-urban-areas',
              activeLayer,
              'Nigeria-LGA-borders',
              'mapbox.world-borders-dark',
              'mix-nigeria-sharialine',
              activeStatus].join(','),
          zoomRange: [4, 10]
      }));

      // Re-render the legend with the new tileset.
      legend.legend.render([
          m.provider.getTileUrl({
              zoom: 0,
              column: 0,
              row: 0
          })
      ]);
    });

  </script>
</body>
</html>
